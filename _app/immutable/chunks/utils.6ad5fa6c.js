import{w as u}from"./index.0daf2fd4.js";import{j as f,z as h,b as m}from"./schemas.3f2493ca.js";const S="PUX_ENCHANT_SALES";let g=[];{const t=f(h.array(m),localStorage.getItem(S));t.success&&(g=t.data)}const _=u(g);_.subscribe(t=>{localStorage.setItem(S,JSON.stringify(t))});const o=(t,r,e,n="")=>{const a={query:{stats:r,status:{option:"online"},filters:e}};n&&(a.query.type=n);const s=new URL(t),i=new URLSearchParams;return i.set("q",JSON.stringify(a)),s.search=i.toString(),s.toString()},y="PUX_CHAOS_PER_DIVINE",O=(t,r)=>o(t,r,{type_filters:{filters:{rarity:{option:"unique"}}}}),v=(t,r)=>o(t,r,{misc_filters:{filters:{ilvl:{min:85}}}}),w=(t,r)=>o(t,r,{misc_filters:{filters:{ilvl:{min:83}}}},"Blizzard Crown"),A=(t,r)=>{const e={};return t.filter(a=>a.enchantText===r).forEach(a=>{const s=a.enchantBase.trim();e[s]||(e[s]={sales:[],averagePrice:0}),e[s].sales.push(a)}),Object.keys(e).forEach(a=>{let s=0,i=0;e[a].sales.forEach(c=>{const l=1/(new Date().valueOf()-new Date(c.dateSold).valueOf());s+=l,i+=c.priceDivine*l}),e[a].averagePrice=i/s}),e},U=(t,r=!1)=>{const e=[t.getFullYear(),(t.getMonth()+1).toString().padStart(2,"0"),t.getDate().toString().padStart(2,"0")].join("-");if(r){const n=[t.getHours().toString().padStart(2,"0"),t.getMinutes().toString().padStart(2,"0"),t.getSeconds().toString().padStart(2,"0")].join(":");return`${e}_${n}`}return e};export{y as S,v as a,w as b,A as c,_ as e,U as f,O as g};
